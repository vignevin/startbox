<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Modèle Excel • startbox</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="model_excel_files/libs/clipboard/clipboard.min.js"></script><script src="model_excel_files/libs/quarto-html/popper.min.js"></script><script src="model_excel_files/libs/quarto-html/tippy.umd.min.js"></script><link href="model_excel_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="model_excel_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Modèle Excel">
<meta property="og:image" content="https://vignevin.github.io/startbox/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Passer au contenu</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Navigation sur le site"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">startbox</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Activer la navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Référence</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/model_excel.html">Modèle Excel</a></li>
    <li><a class="dropdown-item" href="../articles/pom.html">Importation des données météo POM</a></li>
    <li><a class="dropdown-item" href="../articles/quickstart.html">quickstart</a></li>
    <li><a class="dropdown-item" href="../articles/topvigne.html">topvigne</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/vignevin/startbox"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Modèle Excel</h1>




      <small class="dont-index">Source : <a href="https://github.com/vignevin/startbox/blob/HEAD/vignettes/model_excel.qmd" class="external-link"><code>vignettes/model_excel.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>Le modèle Excel STAR est un classeur Excel permettant de standardiser les données collectées lors des expérimentations en protection des cultures.</p>
<p>Il s’appuie sur un vocabulaire défini et harmonisé entre expérimentateurs. Les données sont structurées en tables cohérentes avec un modèle de données explicite.</p>
<p>Cette standardisation est nécessaire pour faciliter le partage, la mise en commun (méta-analyse) et la réutilisation des données. Elle permet aussi d’automatiser le traitement des données (analyses statistiques, visualisation, reporting).</p>
<p>Le <a href="https://github.com/vignevin/startbox/blob/main/inst/extdata/template.xlsx?raw=true" class="external-link">modèle vierge</a> et un <a href="https://github.com/vignevin/startbox/blob/main/inst/extdata/standard_exemple.xlsx?raw=true" class="external-link">exemple pré-rempli</a> sont disponibles en ligne.</p>
<p>Le modèle permet d’organiser les données suivantes :</p>
<ul>
<li>l’expérimentation : description et objectifs poursuivis</li>
<li>la parcelle : cépage, localisation</li>
<li>le plan d’expérience : modalité et placettes</li>
<li>les conditions météo</li>
<li>la traçabilité des traitements et des évènements survenus lors de l’essai</li>
<li>les données d’observation collectées</li>
</ul>
<p>L’ensemble est accompagné d’un dictionnaire de données avec définitions, unités et types des valeurs attendues (texte, nombre, date).</p>
<section class="level2"><h2 id="description-de-lexpérimentation">Description de l’expérimentation<a class="anchor" aria-label="anchor" href="#description-de-lexp%C3%A9rimentation"></a>
</h2>
<p>La description de l’expérimentation est réalisé dans la feuille <code>expe</code> (<a href="#tbl-essai" class="quarto-xref">Table 1</a>). La notion d’expérimentation est équivalente à celle d’un essai mené en protection phytosanitaire.</p>
<p>Les champs <code>expe_id</code> et <code>expe_obj</code> sont <strong>obligatoires</strong>. <code>expe_id</code> est l’identifiant de l’essai, à défaut son nom.</p>
<div>
<blockquote>
<p><strong>Tip</strong></p>
<p>Une bonne pratique est d’identifier un essai selon une convention de nommage qui peut-être le site (ou plateforme), le nom de l’essai et l’année de réalisation, par exemple : IFV30_teisso_2024.</p>
</blockquote>
</div>
<p>Il est possible de stocker les données de plusieurs expérimentations, à condition qu’elles soient réalisées sur <strong>la même parcelle agricole</strong> :</p>
<ul>
<li>cas d’expérimentations différentes réalisées sur plusieurs années</li>
<li>cas de plusieurs expérimentations réalisées la même année, sur une même parcelle agricole (plateforme d’essais)</li>
</ul>
<div class="cell">
<div id="tbl-essai" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-essai-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 1: Champs descriptifs de l’expérimentation (ou essai)
</figcaption><div aria-describedby="tbl-essai-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 15%">
<col style="width: 84%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">organization_name</td>
<td style="text-align: left;">Nom de l’institution responsable de l’expérimentation</td>
</tr>
<tr class="even">
<td style="text-align: left;">suborganization_name</td>
<td style="text-align: left;">Unité (appartenant à une organisation plus large).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">email</td>
<td style="text-align: left;">Email de la personne</td>
</tr>
<tr class="even">
<td style="text-align: left;">expe_id</td>
<td style="text-align: left;">Identifiant de l’expérimentation (URI ou autre)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">expe_obj</td>
<td style="text-align: left;">Objectif(s) de l’expérimentation</td>
</tr>
<tr class="even">
<td style="text-align: left;">expe_desc</td>
<td style="text-align: left;">Description de l’expérimentation et des objectifs poursuivis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">expe_start_date</td>
<td style="text-align: left;">Date de début de l’expérimentation. Elle est exprimée au format AAAA-MM-JJ suivant la norme internationale ISO 8601.</td>
</tr>
<tr class="even">
<td style="text-align: left;">expe_end_date</td>
<td style="text-align: left;">Date de fin de l’expérimentation. Elle est exprimée au format AAAA-MM-JJ suivant la norme internationale ISO 8601.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">design_plan</td>
<td style="text-align: left;">Type de plan d’expérience</td>
</tr>
<tr class="even">
<td style="text-align: left;">proj_id</td>
<td style="text-align: left;">Identifiant du projet (URI ou autre)</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div>
<blockquote>
<p><strong>Note</strong></p>
<p>Les champs obligatoires indiqués <span style="color:#FFD700; font-weight:bold;">en gras et en jaune</span> dans chaque feuille du fichier modèle.</p>
</blockquote>
</div>
</section><section class="level2"><h2 id="le-contexte-expérimental">Le contexte expérimental<a class="anchor" aria-label="anchor" href="#le-contexte-exp%C3%A9rimental"></a>
</h2>
<section class="level3"><h3 id="description-de-la-parcelle">Description de la parcelle<a class="anchor" aria-label="anchor" href="#description-de-la-parcelle"></a>
</h3>
<p>La parcelle sur laquelle ont lieu la ou les expérimentations est décrite dans la feuille du même nom (<a href="#tbl-field" class="quarto-xref">Table 2</a>). Aucune donnée n’est obligatoire ici, mais la localisation de la parcelle est recommandée. Le cépage est sélectionnable dans une liste déroulante, si cette liste s’avère incomplète, il est possible de saisir librement. Dans ce cas, faites une demande au gestionnaire du fichier.</p>
<div class="cell">
<div id="tbl-field" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-field-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 2: Champs descriptifs de la parcelle
</figcaption><div aria-describedby="tbl-field-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 9%">
<col style="width: 90%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">field_id</td>
<td style="text-align: left;">Identifiant de la parcelle expérimentale (URI ou autre)</td>
</tr>
<tr class="even">
<td style="text-align: left;">field_name</td>
<td style="text-align: left;">Nom (ou code) de la parcelle sur laquelle l’expérimentation a lieu</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cultivar_name</td>
<td style="text-align: left;">Nom de la variété (et clone si connu) produisant les fruits. Format de type “Syrah N Cl300” ou “Grenache B”. Utiliser la nomenclature de https://www.plantgrape.fr/fr</td>
</tr>
<tr class="even">
<td style="text-align: left;">row_spacing</td>
<td style="text-align: left;">Ecartement entre les rangs de vigne, en m</td>
</tr>
<tr class="odd">
<td style="text-align: left;">plant_spacing</td>
<td style="text-align: left;">Ecartement entre les ceps de vigne sur le rang, en m</td>
</tr>
<tr class="even">
<td style="text-align: left;">commune_name</td>
<td style="text-align: left;">Nom de la commune sur laquelle se trouve la parcelle</td>
</tr>
<tr class="odd">
<td style="text-align: left;">commune_insee_id</td>
<td style="text-align: left;">Code INSEE de la commune (5 caractères alphanumériques)</td>
</tr>
<tr class="even">
<td style="text-align: left;">field_latitude</td>
<td style="text-align: left;">Latitude du centroïde de la parcelle (degrés décimaux WGS84)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">field_longitude</td>
<td style="text-align: left;">Longitude du centroïde de la parcelle (degrés décimaux WGS84)</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section><section class="level3"><h3 id="les-conditions-climatiques">Les conditions climatiques<a class="anchor" aria-label="anchor" href="#les-conditions-climatiques"></a>
</h3>
<p>Les conditions climatiques dans lesquelles s’est déroulée l’expérimentation sont stockées dans la feuille <code>meteo</code>. Les données peuvent être journalières ou horaires selon les cas. Certaines variables sont proposées par défaut (<a href="#tbl-mto" class="quarto-xref">Table 3</a>), mais ne sont pas nécessairement toutes renseignées. De même, il est possible d’ajouter de nouvelles variables. Il est possible de supprimer les colonnes inutilisées.</p>
<div class="cell">
<div id="tbl-mto" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mto-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 3: Champs descriptifs des conditions météorologiques
</figcaption><div aria-describedby="tbl-mto-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 18%">
<col style="width: 81%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">meteo_datetime</td>
<td style="text-align: left;">Date (heure) de l’observation météo. Format AAAA-MM-JJ ou AAAA-MM-JJ HH:MM</td>
</tr>
<tr class="even">
<td style="text-align: left;">air_tmean_celsius</td>
<td style="text-align: left;">Température moyenne de l’air sur la période de mesure en degrés Celsius</td>
</tr>
<tr class="odd">
<td style="text-align: left;">air_tmax_celsius</td>
<td style="text-align: left;">Température maximale de l’air sur la période de mesure en degrés Celsius</td>
</tr>
<tr class="even">
<td style="text-align: left;">air_tmin_celsius</td>
<td style="text-align: left;">Température minimale de l’air sur la période de mesure en degrés Celsius</td>
</tr>
<tr class="odd">
<td style="text-align: left;">rain_mm</td>
<td style="text-align: left;">Pluie sur la période de mesure en mm</td>
</tr>
<tr class="even">
<td style="text-align: left;">air_hmean_p</td>
<td style="text-align: left;">Humidité relative moyenne de l’air sur la période de mesure en pourcentage.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">air_hmax_p</td>
<td style="text-align: left;">Humidité relative maximale de l’air sur la période de mesure en pourcentage.</td>
</tr>
<tr class="even">
<td style="text-align: left;">air_hmin_p</td>
<td style="text-align: left;">Humidité relative minimale de l’air sur la période de mesure en pourcentage.</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div>
<blockquote>
<p><strong>Important</strong></p>
<p>Si vous ajoutez des variables, pensez à compléter le dictionnaire de données !</p>
</blockquote>
</div>
</section></section><section class="level2"><h2 id="le-plan-dexpérience">Le plan d’expérience<a class="anchor" aria-label="anchor" href="#le-plan-dexp%C3%A9rience"></a>
</h2>
<section class="level3"><h3 id="les-modalités">Les modalités<a class="anchor" aria-label="anchor" href="#les-modalit%C3%A9s"></a>
</h3>
<p>Les traitements expérimentaux, communément appelés modalités, sont décrits dans la feuille <code>modalite</code> (<a href="#tbl-moda" class="quarto-xref">Table 4</a>).</p>
<p>Ils sont associés à une expérimentation : en cas de partage de certaines modalités entre différents essais, il faudra <strong>dupliquer la modalité</strong> pour avoir une déclaration complète des modalités suivies dans chaque essai.</p>
<div class="cell">
<div id="tbl-moda" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-moda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 4: Champs descriptifs des traitements expérimentaux
</figcaption><div aria-describedby="tbl-moda-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 16%">
<col style="width: 83%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">expe_id</td>
<td style="text-align: left;">Identifiant de l’expérimentation (URI ou autre)</td>
</tr>
<tr class="even">
<td style="text-align: left;">xp_trt_code</td>
<td style="text-align: left;">Code de la modalité (traitement expérimental)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">xp_trt_name</td>
<td style="text-align: left;">Nom court de la modalité (traitement expérimental)</td>
</tr>
<tr class="even">
<td style="text-align: left;">xp_trt_desc</td>
<td style="text-align: left;">Description et commentaires sur le traitement expérimental</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section><section class="level3"><h3 id="les-placettes">Les placettes<a class="anchor" aria-label="anchor" href="#les-placettes"></a>
</h3>
<p>La feuille <code>placette</code> permet de déclarer les placettes et leur position sur la parcelle (<a href="#tbl-plot" class="quarto-xref">Table 5</a>). Une placette est un ensemble de plants de vigne qui reçoivent un même traitement expérimental. Autrement dit, ce sont les <strong>unités expérimentales</strong> de l’essai.</p>
<p>Chaque placette doit avoir un <strong>identifiant unique</strong>, qui ne peut pas être répétés dans la parcelle. On peut par exemple faire une combinaison du code du bloc et du code de la modalité, (à condition de n’avoir qu’une répétition par bloc !).</p>
<div>
<blockquote>
<p><strong>Tip</strong></p>
<p>Pour numéroter les placettes (ou unités expérimentales), il est recommandé d’adopter un code alphanumérique du type P1, P2, …, Pn avec une numérotation incrémentale. Cela évite d’être influencé dans les notations.</p>
</blockquote>
</div>
<div class="cell">
<div id="tbl-plot" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 5: Champs descriptifs des placettes
</figcaption><div aria-describedby="tbl-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 4%">
<col style="width: 95%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">plot_id</td>
<td style="text-align: left;">Code de la parcelle unitaire (ou élémentaire) permettant son identification unique au sein de l’expérimentation</td>
</tr>
<tr class="even">
<td style="text-align: left;">xp_trt_code</td>
<td style="text-align: left;">Code de la modalité (traitement expérimental)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">block_code</td>
<td style="text-align: left;">Code du boc sur la quelle est située l’unité expérimentale. Un bloc regroupe plusieurs unités expérimentales. Les blocs sont utilisés pour réduire la variabilité expérimentale et améliorer la précision des comparaisons entre les traitements.</td>
</tr>
<tr class="even">
<td style="text-align: left;">plot_x</td>
<td style="text-align: left;">Position de la parcelle unitaire en coordonnées relatives x. Typiquement, cela peut être un numéro de rang.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">plot_y</td>
<td style="text-align: left;">Position de la parcelle unitaire en coordonnées relatives y. Typiquement, cela peut être le numéro de la 1er souche de la placette à partir du début du rang.</td>
</tr>
<tr class="even">
<td style="text-align: left;">plot_n</td>
<td style="text-align: left;">Nombre de ceps dans la parcelle unitaire</td>
</tr>
<tr class="odd">
<td style="text-align: left;">plot_desc</td>
<td style="text-align: left;">Description ou commentaire sur la placette</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div>
<blockquote>
<p><strong>Tip</strong></p>
<p>Copier-coller dans cette feuille une image du plan d’expérience pour le visualiser facilement. Il est possible de générer cette image avec le package R <code>startbox</code>.</p>
</blockquote>
</div>
</section></section><section class="level2"><h2 id="traçabilité-et-évènements">Traçabilité et évènements<a class="anchor" aria-label="anchor" href="#tra%C3%A7abilit%C3%A9-et-%C3%A9v%C3%A8nements"></a>
</h2>
<section class="level3"><h3 id="les-traitements-phytosanitaires">Les traitements phytosanitaires<a class="anchor" aria-label="anchor" href="#les-traitements-phytosanitaires"></a>
</h3>
<p>Chaque traitement phytosanitaire appliqué doit être enregistré dans la feuille <code>ppp</code> (<a href="#tbl-ppp" class="quarto-xref">Table 6</a>) La saisie se fait par modalité. En cas de traitement de couverture, concernant toutes les modalités, il est nécessaire de dupliquer les lignes pour déclarer le traitement de couverture pour chaque modalité.</p>
<p>Le nom du produit et son numéro d’AMM peuvent être trouvés sur le site <a href="https://ephy.anses.fr/" class="external-link">e-phy</a>.</p>
<div class="cell">
<div id="tbl-ppp" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-ppp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 6: Champs descriptifs des traitements réalisés
</figcaption><div aria-describedby="tbl-ppp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 15%">
<col style="width: 84%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">p_app_code</td>
<td style="text-align: left;">Code de l’application, généralement séquentiel pour les traitements (T1, T2 …)</td>
</tr>
<tr class="even">
<td style="text-align: left;">xp_trt_code</td>
<td style="text-align: left;">Code de la modalité (traitement expérimental)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p_app_date</td>
<td style="text-align: left;">Date d’application du produit phytosanitaire</td>
</tr>
<tr class="even">
<td style="text-align: left;">bbch_stage</td>
<td style="text-align: left;">Stade phénologique lors de la mesure (échelle BBCH)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p_name</td>
<td style="text-align: left;">Nom du produit phytosanitaire</td>
</tr>
<tr class="even">
<td style="text-align: left;">p_amm</td>
<td style="text-align: left;">Numéro d’Autorisation de Mise sur le Marché du produit phytosanitaire</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p_dose</td>
<td style="text-align: left;">Dose de produit phytosanitaire appliqué</td>
</tr>
<tr class="even">
<td style="text-align: left;">p_dose_unit</td>
<td style="text-align: left;">Unité de la dose de produit appliquée</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p_operator</td>
<td style="text-align: left;">Personne ayant réalisée l’application</td>
</tr>
<tr class="even">
<td style="text-align: left;">sprayer_name</td>
<td style="text-align: left;">Nom ou code du pulvérisateur utilisé</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p_app_vol_rate</td>
<td style="text-align: left;">Volume hectare appliqué lors d’un traitement, en L/ha</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section><section class="level3"><h3 id="les-évènements">Les évènements<a class="anchor" aria-label="anchor" href="#les-%C3%A9v%C3%A8nements"></a>
</h3>
<p>La feuille <code>evenement</code> (<a href="#tbl-events" class="quarto-xref">Table 7</a>) permet d’enregistrer toute sorte d’évènements pouvant survenir au cours de l’essai selon les différents types suivants :</p>
<ul>
<li>accident climatique : un accident de type gel, grêle…</li>
<li>incident technique : tout problème pouvant affecter la bonne conduite de l’expérimentation</li>
<li>inoculation : opération d’inoculation, en particulier pour les expérimentations en plateforme de brumisation inoculée avec du mildiou</li>
<li>note : toute note ou remarque utile</li>
<li>observation : action d’observation réalisé sur l’expérimentation.</li>
</ul>
<p>Le champ <code>event_description</code> permet de préciser la nature de l’évènement, et les éventuelles implication pour l’essai.</p>
<div class="cell">
<div id="tbl-events" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-events-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 7: Champs descriptifs des évenements
</figcaption><div aria-describedby="tbl-events-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 14%">
<col style="width: 85%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">event_date</td>
<td style="text-align: left;">Date (et heure) de l’événement</td>
</tr>
<tr class="even">
<td style="text-align: left;">event_type</td>
<td style="text-align: left;">Type d’évenement survenu lors de l’expérimentation : accident climatique, accident ou incident technique…</td>
</tr>
<tr class="odd">
<td style="text-align: left;">event_description</td>
<td style="text-align: left;">Description libre de l’événement</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section><section class="level3"><h3 id="la-traçabilité-du-fichier">La traçabilité du fichier<a class="anchor" aria-label="anchor" href="#la-tra%C3%A7abilit%C3%A9-du-fichier"></a>
</h3>
<p>Les actions sur le fichier sont elles-mêmes enregistrées dans une feuille dédiée à la traçabilité, nommée <code>suivi_data</code> (<a href="#tbl-log" class="quarto-xref">Table 8</a>). Ces actions sont enregistrées soit manuellement par l’opérateur, soit automatiquement en cas de manipulation du fichier via le package <code>startbox</code>.</p>
<p>Le principe est de décrire la source des données, la nature de l’action effectuée, par qui et quand, et les données résultantes.</p>
<div class="cell">
<div id="tbl-log" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-log-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 8: Champs descriptifs des actions sur le fichier
</figcaption><div aria-describedby="tbl-log-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 12%">
<col style="width: 87%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">dataop_date</td>
<td style="text-align: left;">Date de l’opération sur les données</td>
</tr>
<tr class="even">
<td style="text-align: left;">dataop_desc</td>
<td style="text-align: left;">Description de l’opération réalisée sur les données (importation, mise à jour…)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dataop_agent</td>
<td style="text-align: left;">Opérateur réalisant la manipulation des données</td>
</tr>
<tr class="even">
<td style="text-align: left;">dataop_input</td>
<td style="text-align: left;">Nom de la source des données (Par exemple TopVigne, POM…). Pour une feuile Excel, nom de la feuille</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dataop_output</td>
<td style="text-align: left;">Nom de la table de donnée en sortie de l’opération sur les données (nom de la feuille sous Excel)</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section></section><section class="level2"><h2 id="les-données-observées">Les données observées<a class="anchor" aria-label="anchor" href="#les-donn%C3%A9es-observ%C3%A9es"></a>
</h2>
<p>Les données observées sont enregistrées dans une ou plusieurs feuilles du classeur. Le nom d’une feuille de donnée doit <strong>obligatoirement</strong> commencer par le préfixe <strong><code>data_.</code></strong> Dans le cas contraire, elle ne sera pas lue par le package <code>startbox</code>.</p>
<p>Chaque observation doit être associée à une placette <code>plot_id</code>, est réalisée à une date et un stade phénologique donné, et associé à une ou plusieurs variables observées (<a href="#tbl-data" class="quarto-xref">Table 9</a>).</p>
<p>Les stades phénologiques sont déclarés dans l’échelle BBCH.</p>
<p>Les variables doivent être déclarées dans le dictionnaire de données. Certaines sont déjà enregistrées par défaut dans ce dictionnaire.</p>
<div class="cell">
<div id="tbl-data" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 9: Champs descriptifs des feuilles de données
</figcaption><div aria-describedby="tbl-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 13%">
<col style="width: 86%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">nom</th>
<th style="text-align: left;">description_fr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">observation_date</td>
<td style="text-align: left;">Date de réalisation de l’observation.</td>
</tr>
<tr class="even">
<td style="text-align: left;">bbch_stage</td>
<td style="text-align: left;">Stade phénologique lors de la mesure (échelle BBCH)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">plot_id</td>
<td style="text-align: left;">Code de la parcelle unitaire (ou élémentaire) permettant son identification unique au sein de l’expérimentation</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section><section class="level2"><h2 id="le-dictionnaire-de-données">Le dictionnaire de données<a class="anchor" aria-label="anchor" href="#le-dictionnaire-de-donn%C3%A9es"></a>
</h2>
<p>Le dictionnaire de données est dans la feuille <code>dictionary</code>. Le principe est de décrire toutes les colonnes (variables) existantes dans le fichier. Chaque colonne est décrite par :</p>
<ul>
<li>nom : son nom de colonne</li>
<li>description_fr : une description en français expliquant son contenu</li>
<li>trait : dans le cas d’une variable, le trait associé à la variable. Le trait est la caractéristique observée sur une entité, par exemple la hauteur de plante.</li>
<li>method : la méthode de mesure ou d’observation</li>
<li>unit : l’unité dans laquelle est exprimée la variable</li>
<li>Rclass : sa classe dans l’environnement R (character, numeric, date, integer)</li>
<li>uri : l’identifiant de type URI de la variable</li>
<li>is_variable : s’il s’agit d’une variable mesurée (ou observée)</li>
<li>has_eloa_class : la classe associée de l’entité décrite par le champ.</li>
</ul></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copié");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copié");
        tooltip = new bootstrap.Tooltip(button,
          { trigger: "manual",
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table des matières"><h2>Sur cette page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Développé par Xavier Delpuech, Hervé Maire, Anne-Sophie Chazalmartin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site créé avec <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
